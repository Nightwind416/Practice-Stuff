<!DOCTYPE html>
<html>
  <head>
    <style>
    </style>
    <title>
      FizzBuzz
    </title>
    <meta charset="UTF-8"/>
  </head>
  <body>
    <audio id="myAudio">
      <source src="audio/over9000.wav" type="audio/wav">
      Your browser does not support the audio element.
    </audio>
    <h3>
      <h1>
        FizzBuzz
      </h1>
      <h2>
        By: Nightwind416
      </h2>
      <h3 id="lastModified">
        Latest revision:
      </h3>
    </div>
    <div>
      <p>
        Fizz buzz is a group word game for children to teach them about division.
        Players take turns to count incrementally, replacing any number divisible 
        by three with the word "fizz", and any number divisible by five with the 
        word "buzz".
      </p>
      <p>
        <a href="https://en.wikipedia.org/wiki/Fizz_buzz">Fizz buzz on Wikipedia</a>
      </p>
      <p>
        Write a program that takes a userâ€™s input and prints the numbers from one
        to the number the user entered. However, for multiples of three print Fizz
        instead of the number and for the multiples of five print Buzz. For numbers
        which are multiples of both three and five print FizzBuzz.
      </p>
      <p>
        Enter your number and hit submit:
      </p>
      <p>
        <Input id="inputID"> <button onclick="submitButton()">Submit</button>
      </p>
    </div>
    <div id="answerDiv">
      <p id="answer">
        Awaiting input
      </p>
    </div>
    <div>
      <p>
        Check back every so often to see code optimization improvements, styling,
        and i'll start leaving tons of 'easter eggs' in the code to trigger for certain entries.
      </p>
    </div>
    <script>
      // Your JavaScript goes here!
      console.log("Hello, World!");
      let myGif = new Image();
      myGif.src = "images/over9000.gif";
      document.getElementById('answer').appendChild(gif);
      let modifiedDate = document.lastModified;
      //console.log(modifiedDate.getMonth());
      //console.log(modifiedDate.getDay());
      document.getElementById("lastModified").innerText = "This page was last updated on: " + modifiedDate;
      // 'run' FizzBuzz when submit button is pushed
      function submitButton() {
        // clear screen
        document.getElementById("answer").innerText = ""
        // get submitted data
        let submittedData = document.getElementById("inputID").value;
        console.log("Submitted data: ", submittedData);
        // change data from string to number, will return NaN if 'not a number'
        let testNum = parseFloat(submittedData);
        console.log("test: ", testNum);
        // check if data is a whole number
        let wholeNum = Number.isInteger(testNum)
        console.log("Whole number?: ", wholeNum);
        // initial response to input
        if(isNaN(submittedData)) { // check and response if the data was not number
          console.log("Data entered was not a number");
          document.getElementById("answer").innerText = "Sorry, " + submittedData + " is not a valid number. Please try again!";
        } else if (wholeNum == false) { // check and response if the data was not a whole number
          console.log("Data entered was not a whole number");
          document.getElementById("answer").innerText = "Sorry, " + submittedData + " is not a whole number (or empty submission, haven't filtered empty out yet). Please do not use decimals or fractions. Please try again!";
        } else { // valid data entered, begin the FizzBuzz loop
          console.log("Data entered was a valid whole number, begin FizzBuzz game");
          document.getElementById("answer").innerText += ("Ok, let's FizzBuzz up to... " + submittedData + "\n");
          // FizzBuzz loop
          fizzBuzz(testNum)
          //document.getElementById("answer").innerText += ";
          }
      }
      // FizzBuzz game loop
      function fizzBuzz(max) {
        let i = 1;
        while (i < max + 1) {
          if (max > 9000) {
            // say Fizz
            console.log("Over 9000!");
            document.getElementById("answer").innerText += "\n Over 9000!";
            // display over 9000 gif
            // 
            // play over 9000 wav
            document.getElementById("myAudio").play()
            break;
          } else if (max > 250) {
            // over 500
            console.log("Over 250!");
            document.getElementById("answer").innerText += "\n Anything over 250 starts to get increasingly 'laggy' using my crude and un-optimized code. \n \n For now, let's not and say we did";
            break;
          }else if ((i % 3 == 0) && (i % 5 == 0)) {
            // say FizzBuzz
            console.log("FizzBuzz");
            document.getElementById("answer").innerText += "FizzBuzz \n";
          } else if (i % 5 == 0) {
            // say Buzz
            console.log("Buzz");
            document.getElementById("answer").innerText += "Buzz \n";
          } else if (i % 3 == 0) {
            // say Fizz
            console.log("Fizz");
            document.getElementById("answer").innerText += "Fizz \n";
          } else {
            // say number
            console.log("number: ", i);
            document.getElementById("answer").innerText += i + "\n ";
          }
          i++
        }
      }
      // End of JavaScript section
    </script>
  </body>
</html>
